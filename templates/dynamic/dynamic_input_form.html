{% extends 'taxbrain/input_base.html' %}

{% load staticfiles %}

{% load flatblocks %}

{% block content %}
<div class="wrapper">
  <div id="affix-offset">
    <nav class="logobar" role="navigation">
      <a class="logobar-brand" href="/">
        <img alt="TaxBrain: A disruptive open source platform for exploring tax policy impact" src="{% static 'images/logo-no-icon.png' %}">
      </a>
    </nav>

    <section class="taxbrain-hero">
      <div class="taxbrain-hero-block">
        <div class="logo">
          <h2 class="sr-only">TaxBrain</h2>
          <img src="{% static 'images/taxbrain/logo-taxbrain-altbeta.png' %}" alt="TaxBrain" class="img-responsive">
        </div>
        {% flatblock "taxbrain_dynamic_subheader" %}
        <a href="#get-started" class="btn btn-primary btn-explore">Start Exploring</a>
        <div class="what-is">
          <a class="collapsed" data-toggle="collapse" href="#taxbrainInfo" aria-expanded="false" aria-controls="taxbrainInfo">What is TaxBrain?</a>
        </div>
      </div>
    </section>

    <section class="taxbrain-info collapse" id="taxbrainInfo">
      <div class="container">
        <div class="taxbrain-history">
          <h2>About TaxBrain</h2>
          {% flatblock "taxbrain_what_is_taxbrain_dropdown" %}
        </div>
        <div class="taxbrain-build">
          <h2>PolicyBrain Code Build</h2>
          <p><a href="https://github.com/OpenSourcePolicyCenter/webapp-public/tree/v{{webapp_version}}">Version {{ webapp_version }} - GitHub</a></p>
        </div>
        <div class="taxbrain-build">
          <h2>OG-USA Code Build</h2>
          <p><a href="https://github.com/open-source-economics/OG-USA/tree/{{ogusa_version}}">Version {{ ogusa_version }} - GitHub</a></p>
        </div>
        <div class="taxbrain-build">
          <h2>Tax-Calculator Code Build</h2>
          <p><a href="https://github.com/open-source-economics/Tax-Calculator/tree/{{taxcalc_version}}">Version {{ taxcalc_version }} - GitHub</a></p>
        </div>
      </div>
    </section>

    <form class="inputs-form" method="post" action="/dynamic/ogusa/{{pk}}/?start_year={{start_year}}">
      {% csrf_token %}
      <div class="container">
        <div class="row">
          <div class="col-xs-3">
            <div class="inputs-sidebar" data-spy="affix" data-offset-top="320" data-offset-bottom="245">
              <ul class="nav sidebar-nav">
                <li class="get-started"><a href="#get-started">Get Started</a></li>
                <li><a href="#dynamic-sim">Macroeconomic Parameters</a></li>
              </ul>
              <div class="sidebar-button">
                <a href="#" ></a>
                <input id="tax-submit" class="btn btn-secondary btn-block btn-animate {{ is_disabled }}" {{ is_disabled }} type="submit" value="Start Dynamic Simulation!">
                <div class="construction text-center">
                  <div class="progress progress-striped" style="width: 100%">
                    <div class="progress-bar active progress-bar-custom" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
                  </div>
                </div>
              </div>
            </div> <!-- sidebar -->
          </div>
          <div class="col-xs-9">
            <div class="inputs-main">

              {% for error in form.non_field_errors %}
                  <div class="alert alert-danger text-center lert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                    {{ error }}
                  </div>
              {% endfor %}

              <div id="get-started" class="inputs-block inputs-block-intro">
                <div class="inputs-block-header">
                  <h1>Get Started</h1>
                  <p><strong>Caution: this model is highly preliminary!</p></strong>
                 <p>OG-USA is an open source economic dynamic general equilibrium model intended to evaluate U.S. tax policy.  The model code and detailed documentation is available at <a href = "http://www.github.com/open-source-economics/OG-USA." target= "_blank">http://www.github.com/open-source-economics/OG-USA.</a></p>

                 <p>OG-USA is an overlapping-generations model comprised of households, perfectly competitive firms, and a government with a balanced budget requirement. Firms make a static profit maximization decision in which they rent capital and hire labor to maximize profits given a Cobb-Douglas production function. The government levies taxes on individuals and makes lump sum transfers to individuals according to a balanced budget constraint. In the version deployed through TaxBrain, the model is scaled-down to have a single, representative household for each generation and simple tax functions. A detailed description of the model is available <a href = "https://github.com/open-source-economics/OG-USA/blob/master/Model Writeup/OGUSA_TaxBrain_version.pdf" target="blank"> here.</a></p>

                 <p>It is important to note a few caveats for OG-USA and the results available on TaxBrain:</p>

                 <ol>
                 <li>This is an initial release and there are almost certainly bugs to be worked out.  If you see anything that doesn’t make sense, please let us know by sending a message to the mailing list, which you can join at <a href = "list.ospc.org/mailman/listinfo/users_list.ospc.org" target = "blank"> list.ospc.org/mailman/listinfo/users_list.ospc.org.</a></li>
                 <li>Solving the model requires that it attain a steady state.  One implication of this requirement is that the government’s budget constraint must be satisfied in the long run.  Therefore, the model must specify how tax cuts are financed.  The assumptions about how the budget is closed have substantial impact on the predictions of the model (see Table 2 of this JCT document).  In OG-USA, we specify a very simple government that contemporaneously redistributes all revenues in a lump-sum manner.  Tax cuts are financed by reducing these transfers.  Users should recognize that this assumption tends to provide an upper bound on the macroeconomic benefits of tax cuts, as other possible financing methods for tax cuts tend to yield smaller benefits. We are in the process of allowing users to alter the financing assumption.</li>
                 <li>Because there is a representative household for each cohort, OG-USA cannot currently evaluate the distributional effects of tax policy within a cohort (although one could do intergenerational distributional analysis in this framework). We are in the process of adding heterogeneous households in each cohort.</li>
                 <li>The production side of the model is very simplified. It does not allow the user to evaluate business taxation or interactions between personal and business taxation. We are in the process of expanding the production side of the model to allow for the evaluation of business taxation. </li>
                 <li>The results are for a specific set of parameters values, which are outlined in our <a href = "https://github.com/open-source-economics/OG-USA/blob/master/Model Writeup/OGUSA_TaxBrain_version.pdf" target="blank">detailed documentation.</a>  While we have tried to make reasonable parameterizations based on empirical analysis, some users might disagree with these values.  The ability to modify parameters through the web application is limited, but users who wish to consider adjustments may download the source code and do so.</li>
                 </ol>

                 <p>OG-USA interacts with Tax-Calculator, an open source economic microsimulation model available at <a href = "www.github.com/open-source-economics/tax-calculator" target= "blank"> www.github.com/open-source-economics/tax-calculator</a>.  It does so in the following way. The user enters changes to the individual income tax code he wishes to evaluate via the TaxBrain interface.  These tax policy parameters are then used to recompute marginal and effective tax rates for individuals in the microdata underlying Tax-Calculator.  These marginal and effective tax rates are then use to estimate marginal and effective tax rates faced by the households in OG-USA, thereby determining how model households respond to changes in tax policy.</p>

                 <p><strong>How to cite</strong></p>

                 <p>These results were generated with the community developed and open source economic model OG-USA, accessed via version xx.xx.xx of TaxBrain, an interface hosted by AEI's Open Source Policy Center. The exact simulation modeled here is available at www.ospc.org/taxbrain/dynamic/results/NNNNNN. The results are solely the responsibility of the author.</p>

                 <p><strong>
                 Project Maintainers (OG-USA modeling)*:
                 <ul style = "list-style-type:none">
                 <li>- <a href = "http://mtweb.mtsu.edu/jdebacker/" target = "blank" >Jason DeBacker**</a></li>
                 <li>- <a href = "https://sites.google.com/site/rickecon/" target = "blank" >Rick Evans**</a></li>
                 </ul>
                 </strong></p>
                 <p>*These members review open source contributions for the OG-USA modeling effort.

                 <p>**The contact information for Professors DeBacker and Evans will be updated in the coming months to reflect their new positions at the University of South Carolina and University of Chicago, respectively.</p>

                  <div>
                    You are looking at default parameters for {{start_year}}.
                  </div>
                </div>
              </div>

              {% include 'dynamic/includes/params/inputs/dynamic.html' %}

            </div> <!-- main -->
          </div>
        </div>
      </div>
    </form> <!-- form -->
  </div> <!-- /wrapper -->
{% endblock %}
